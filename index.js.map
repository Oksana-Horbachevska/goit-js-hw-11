{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n// ===============функція js-fetch запиту =================\n\n// export function getImagesByQuery(query) {\n//   const BASE_URL = 'https://pixabay.com/';\n//   const END_POINTS = 'api/';\n//   const params = new URLSearchParams({\n//     key: '50383604-c913cf66ede56daf64b093a7e',\n//     q: query,\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: 'true',\n//   });\n\n//   const url = `${BASE_URL}${END_POINTS}?${params}`;\n\n//   return fetch(url).then(res => {\n//     if (res.ok) {\n//       return res.json();\n//     } else {\n//       throw new Error('Something vent wrong...Please try again');\n//     }\n//   });\n// }\n\n// ===============функція js-axios запиту =================\n\nexport async function getImagesByQuery(query) {\n  const BASE_URL = 'https://pixabay.com/';\n  const END_POINTS = 'api/';\n  const url = BASE_URL + END_POINTS;\n\n  const params = new URLSearchParams({\n    key: '50383604-c913cf66ede56daf64b093a7e',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const res = await axios.get(url, { params });\n\n  return res.data;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst galleryElem = document.querySelector('.gallery');\nconst loaderElem = document.querySelector('.loader-wrapper');\n// ==================== розміткa ====================\n\nfunction imageTemplate(obj) {\n  return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${obj.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${obj.webformatURL}\"\n      alt=\"${obj.tags}\"\n    />\n  </a>\n   <div class=\"info\">\n          <p><b>Likes:</b> ${obj.likes}</p>\n          <p><b>Views:</b> ${obj.views}</p>\n          <p><b>Comments:</b> ${obj.comments}</p>\n          <p><b>Downloads:</b> ${obj.downloads}</p>\n        </div>\n</li>\n`;\n}\n\nexport function createGallery(images) {\n  const markup = images.map(imageTemplate).join('\\n');\n  galleryElem.innerHTML = markup;\n  lightbox.refresh();\n}\n\n// ================= очищає вміст контейнера ====================\n\nexport function clearGallery() {\n  galleryElem.innerHTML = '';\n}\n\n// ================= додає клас до Loader ====================\n\nexport function showLoader() {\n  loaderElem.classList.remove('hidden');\n}\n\n// ================= прибирає клас до Loader ====================\n\nexport function hideLoader() {\n  loaderElem.classList.add('hidden');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nconst refs = {\n  formElem: document.querySelector('.form'),\n  galleryElem: document.querySelector('.gallery'),\n};\n\n// =============== основний код =================\n\nrefs.formElem.addEventListener('submit', e => {\n  e.preventDefault();\n  showLoader();\n\n  const query = e.target.elements['search-text'].value.trim();\n\n  if (query !== '') {\n    clearGallery();\n    getImagesByQuery(query).then(data => {\n      if (data.hits.length > 0) {\n        createGallery(data.hits);\n        hideLoader();\n      } else {\n        hideLoader();\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          backgroundColor: '#ef4040',\n          maxWidth: '432px',\n          messageColor: '#ffffff',\n          close: true,\n          closeOnClick: true,\n          icon: 'icon-error',\n        });\n\n        refs.galleryElem.innerHTML = '';\n      }\n    });\n  }\n\n  e.target.reset();\n});\n"],"names":["getImagesByQuery","query","url","params","axios","lightbox","SimpleLightbox","galleryElem","loaderElem","imageTemplate","obj","createGallery","images","markup","clearGallery","showLoader","hideLoader","refs","e","data","iziToast"],"mappings":"owBA4BO,eAAeA,EAAiBC,EAAO,CAG5C,MAAMC,EAFW,uBACE,OAGbC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAID,OAFY,MAAMG,EAAM,IAAIF,EAAK,CAAE,OAAAC,CAAM,CAAE,GAEhC,IACb,CCzCA,MAAME,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAa,SAAS,cAAc,iBAAiB,EAG3D,SAASC,EAAcC,EAAK,CAC1B,MAAO;AAAA,kCACyBA,EAAI,aAAa;AAAA;AAAA;AAAA,aAGtCA,EAAI,YAAY;AAAA,aAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,6BAIQA,EAAI,KAAK;AAAA,6BACTA,EAAI,KAAK;AAAA,gCACNA,EAAI,QAAQ;AAAA,iCACXA,EAAI,SAAS;AAAA;AAAA;AAAA,CAI9C,CAEO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EAAO,IAAIH,CAAa,EAAE,KAAK;AAAA,CAAI,EAClDF,EAAY,UAAYM,EACxBR,EAAS,QAAO,CAClB,CAIO,SAASS,GAAe,CAC7BP,EAAY,UAAY,EAC1B,CAIO,SAASQ,GAAa,CAC3BP,EAAW,UAAU,OAAO,QAAQ,CACtC,CAIO,SAASQ,GAAa,CAC3BR,EAAW,UAAU,IAAI,QAAQ,CACnC,CC1CA,MAAMS,EAAO,CACX,SAAU,SAAS,cAAc,OAAO,EACxC,YAAa,SAAS,cAAc,UAAU,CAChD,EAIAA,EAAK,SAAS,iBAAiB,SAAUC,GAAK,CAC5CA,EAAE,eAAc,EAChBH,IAEA,MAAMd,EAAQiB,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAEjDjB,IAAU,KACZa,IACAd,EAAiBC,CAAK,EAAE,KAAKkB,GAAQ,CAC/BA,EAAK,KAAK,OAAS,GACrBR,EAAcQ,EAAK,IAAI,EACvBH,MAEAA,IACAI,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,SAAU,QACV,aAAc,UACd,MAAO,GACP,aAAc,GACd,KAAM,YAChB,CAAS,EAEDH,EAAK,YAAY,UAAY,GAErC,CAAK,GAGHC,EAAE,OAAO,OACX,CAAC"}